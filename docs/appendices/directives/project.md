# Projet FastAPi Treafik

<!-- [TOC] -->

## Objectifs principaux

* Acquérir les connaissances techniques et méthodologiques ainsi que les savoir-faire nécessaires à l'exercice de la fonction d'administrateur/ingénieur/architecte DevOps/Cloud/SRE.
* Valider la certification RNCP "Administrateur Système DevOps” RNCP36061.
* Valider la formation DataScientest intitulé « Ingénieur DevOps » dans son format Bootcamp.


## Les documents fournis en Support



* Voici un document pour vous aider à la rédaction du dossier projet et sa forme  \
Cahier des charges du dossier \
[https://docs.google.com/presentation/d/1-XcjCfzGO1DF1sFut0lYUZrI_6VHlevm/edit#slide=id.p1](https://docs.google.com/presentation/d/1-XcjCfzGO1DF1sFut0lYUZrI_6VHlevm/edit#slide=id.p1)
* Voici la fiche des projets proposés \
Avec le tableau présentant les étapes \
[https://docs.google.com/document/d/1o3YM1vOo2_Ys_WGhifBuvKYz59662vLo/edit](https://docs.google.com/document/d/1o3YM1vOo2_Ys_WGhifBuvKYz59662vLo/edit)
* Voici le document qui présente les conditions de validations de la certification RNCP \
[https://docs.google.com/document/d/1R9l3U-EpyFmI5Dx9f0NkKSr065mEFA1c/edit](https://docs.google.com/document/d/1R9l3U-EpyFmI5Dx9f0NkKSr065mEFA1c/edit) 


## RNCP


### Les exigences

**La session d’évaluation visant l’obtention du titre professionnel réunit un jury de professionnels du domaine, est organisée en présentiel à Paris et s’appuie sur plusieurs éléments : **



* Le Dossier professionnel (DP) complété par le candidat au plus tard 15 jours avant la session d’examens
* La présentation du projet fil rouge réalisé en amont de la session
  * Un dossier de projet à remettre au jury
  * Un support de présentation type diaporama
* Entretien technique
* Questionnaire professionnel
* Entretien final
* Livret des évaluations passées en cours de formation (ECF)


### Les compétences évaluées sont les suivantes :  \
**Le projet couvre obligatoirement les compétences suivantes (en couleur)**



1. Automatiser le déploiement d’une infrastructure dans le cloud
    1. Automatiser la création de serveurs à l’aide de scripts 
    2. **Automatiser le déploiement d’une infrastructure**
    3. Sécuriser l’infrastructure
    4. Mettre l’infrastructure en production dans le cloud
2. Déployer en continu une application
    5. Préparer un environnement de test
    6. Gérer le stockage des données 
    7. **Gérer des containers**
    8. Automatiser la mise en production d’une application avec une plateforme
3. Superviser les services déployés
    9. Définir et mettre en place des statistiques de services
    10. **Exploiter une solution de supervision**
    11. Echanger sur des réseaux professionnels éventuellement en anglais

    Lorsqu’il est réalisé en centre de formation, le projet doit également comporter un cahier des charges conçu par le candidat et permettre la mise en œuvre des compétences d’au moins une des activités types.

* Automatiser le déploiement d'une infrastructure
* Gérer des containers
* Exploiter une solution de supervision

    **Les compétences non couvertes par le projet présenté feront l’objet d’un questionnement lors de l’entretien technique.**



### Le dossier Projet 

**<span style="text-decoration:underline;">Le projet donne lieu à deux productions</span> :**



* Un dossier de projet à remettre au jury ;
* Un support de présentation de type diaporama.


#### Le dossier de projet respecte ce plan type



* liste des compétences du référentiel qui sont couvertes par le projet ;
* cahier des charges ;
* spécifications techniques du projet, élaborées par le candidat, comprenant de préférence un schéma de l’infrastructure à déployer et/ou de
* l’application à mettre en production ;
* description de la démarche et des outils utilisés ainsi que des collaborations éventuelles avec les autres équipes ;
* réalisations du candidat comportant les scripts et les configurations les plus significatifs et en les argumentant ;
* description d’une situation de travail ayant nécessité une recherche effectuée par le candidat durant le projet.


#### Le support de présentation de type diaporama


    **Le candidat présente son projet à l’aide d’un support de présentation de type diaporama réalisé en amont de l’épreuve, et selon ce canevas :**



* présentation de l’entreprise et/ou du service ;
* contexte du projet (cahier des charges, contraintes, livrables attendus) ;
* présentation de l’infrastructure à déployer et/ou de l’application à mettre en production ;
* présentation d’un exemple significatif du travail réalisé par le candidat ;
* présentation d’un exemple de recherche effectuée ;
* synthèse et conclusion (satisfactions et difficultés rencontrées).
* Informations complémentaires concernant l’entretien technique :
* L'entretien technique se déroule obligatoirement à l'issue de la présentation du projet réalisé en amont de la session.


## Formation DataScientest


### Les exigences


#### Déployer et et Gérer le cycle de vie d’une application


    L’objectif de ce projet est de faire la démonstration pratique de la plupart des éléments techniques appris durant le cursus DevOps.


    L’activité de DevOps dans une équipe est une activité de support au développement et d’automatisation des divers éléments pratiques nécessaires au bon fonctionnement d’une application.


    Ce projet consiste à rassembler les aspects pratiques découverts dans les modules du cursus et de les combiner autour d’une infrastructure pour réaliser le déploiement d’une application, conformément aux exigences de validation de votre formation.


    Une attention particulière sera donnée à la forme des rendus intermédiaires. Notamment à l’organisation de votre projet Git, la communication et le travail d’équipe. \
**Si les rendus ne sont pas à la hauteur et délivrés à temps, votre projet ne pourra pas être validé**


    Vous l’aurez compris, le projet demande une implication conséquente et constitue pour cette raison un pilier de votre formation. **Un bon projet sera le meilleur moyen pour vous de montrer que cette formation a été concluante et que vous êtes opérationnels !**


#### **Modalités validation DataScientest pour le diplôme Ingénieur DevOps**

**Tout le long du projet : Organisation et développement centralisé**



* Projet fonctionnel
* Qualité du code et des outils
* Création d’un prototype produit final
* Gestion de multiples environnements

**Soutenance finale technique en groupe**



* Automatiser le déploiement d'une infrastructure
* Sécuriser l’infrastructure
* Mettre l’infrastructure en production dans le cloud
* Préparer des tests unitaires avant mise en production
* Gérer les bases de données et le stockage des données
* Gérer des containers et l’orchestration
* Automatiser la mise en production d’une application 
* Définir et mettre en place une solution de supervision (SRE)
* Gérer des environnements et outils multiples

**Démo + Soutenances =>  Semaine du 12 Décembre**

Pour votre démo, il faudra que votre application soit :



    * **Organisée et documentée** sur GitHub avec la procédure d’installation.
    * Fonctionne **sans bugs**.
* La soutenance** DataScientest** se déroule **en groupe** de la manière suivante :
    * **20 minutes de présentation**
    * **10 minutes de questions de la part des membres du jury**
* Vous avez la possibilité de réaliser soit :
    * une présentation **Powerpoint + Démo**
    * toute la présentation de votre application sur **GitHub**




## Projet Imposé


    FastAPI Traefik :  \
[https://github.com/DataScientest/fastapi-docker-traefik](https://github.com/DataScientest/fastapi-docker-traefik)

Vous êtes chargé de travailler activement sur la mise à jour de l'application en appliquant toute la méthodologie DevOps.

Un exemple d’API générique en Python proposé par DataScientest. Ce projet pourra convenir pour ceux qui souhaitent créer une application, ou modifier celle-ci.

Pour les objectifs du projet, on vous demandera de déployer l’application avec un déploiement en mode “micro-service” sur un tout nouvel environnement de façon sécurisée. Il faudra également y inclure un point d’entrée (proxy) via Traefik.

> [Documentation Traefik](https://doc.traefik.io/traefik/)<span style="text-decoration:underline;">  \
(https://doc.traefik.io/traefik/)</span>

Il y a plusieurs possibilités : 



* Déployer cette application sur Kubernetes
* Déployer cette application sur le Cloud
* Déployer cette application sur un environnement local

L’application est simple mais toute nouvelle feature sera grandement appréciée et valorisée pour la validation du projet.


## Déroulement du projet

Le but de vous présenter les différentes attentes relatives au projet et ses deadlines. \
Les documents [Conditions de validation](https://docs.google.com/document/d/1R9l3U-EpyFmI5Dx9f0NkKSr065mEFA1c/edit?usp=share_link&ouid=101289792124210529508&rtpof=true&sd=true) et la [fiche projet](https://docs.google.com/document/d/1o3YM1vOo2_Ys_WGhifBuvKYz59662vLo/edit?usp=share_link&ouid=101289792124210529508&rtpof=true&sd=true) vous aiguilleront pour la livraison des différents livrables du projet.



**1. Cahier des charges => 30 Octobre 2023**

**Construire le cahier des charges et prise en main de l’application \
**Comprendre les objectifs du projet et les exigences fonctionnelles.



* Définition des besoins métiers et de l’application utilisée.
* Importation de l’application sur votre VCS
* Schéma d’implémentation
* Instancier un dépôt Git : l’organiser et le documenter
* Organiser la gestion du projet : Choix des méthodes

_Votre première tâche consistera à définir le contexte et le périmètre du projet : j’attends que vous preniez vraiment le temps de bien comprendre les objectifs du projet et les exigences fonctionnelles. L'application est fonctionnelle mais ne respecte pas les exigences des principes DevOps._



* _L'objectifs de n'est pas construire l'application mais de travailler sur l'existant_
* _Il faudra créer et importer l'application dans un repository Git dédié à l'équipe projet._

_Rendu : J’attendrai également un schéma d'implémentation de la solution orientée DevOps._

**2 : Infrastructure => 10 Novembre 2023**

**Configurer, déployer et sécuriser l'infrastructure pour l’application** \
Créer une architecture du projet “micro-services” avec une solution IaC :



* Conteneurisation et orchestration
* Choix des composants d'infrastructure de votre application (Front, back, BDD..)
* Gérer et sécuriser le réseau et les ports de connexion
* La sécurité avec des protocoles chiffrés
* Architecture sur plusieurs serveurs ou instances : haute disponibilité
* Gestion des sauvegardes, recovery disaster

_Créer une architecture pour votre application en prenant en compte tous les composants de celle-ci. (Kubernetes, Vagrant..)_

_Etapes Bonus:_



* _Privilégier une solution d'**I**nfrastructure **a**s **C**ode_
* _Utiliser le cloud et ses services pour déployer votre application_

_Rendu : Scripts utilisés et déploiement de l'application sur votre architecture._



**3. Gestion des données => 20 Novembre 2023**

**Ingestion et consommation des données**

Définir la nature, la vélocité et le volume de données pour l’application :



* Choisir la solution technique de stockage de données selon l’application
* Créer la base de données si besoin pour stocker les données de l’application
* Programmer la sauvegarde des données de l’application
* Mettre en place les droits d’accès
* Ingestion des données dans l’application
* Consommation par les utilisateurs
* Gestion des logs

    _Choisir la solution technique de stockage de données selon l’application et/ou une base de données :_

    * _Relationnelle_
    * _NoSQL_
    * _File system / Bloc Storage / Object Storage_
* _Il faudra penser à l'architecture des données, notamment comment relier les différentes données entre elles._

_Rendu : Tout document expliquant l'architecture choisie (Diagramme UML)_



    * _Fichier implémentant les bases de données ou/et le stockage_
    * _Fichier de requête_

4: Pipeline CI/CD => 25 Novembre 2023

**Configurer les pipelines pour automatiser les processus de compilation, de test, de déploiement et de livraison.**

Cela permettra d'éviter les erreurs humaines et de s'assurer que les déploiements se déroulent de manière efficace et fiable.



* Effectuer des tests automatisés et des tests d'intégration pour s'assurer que le code fonctionne correctement
* Déployer le code sur un <span style="text-decoration:underline;">environnement de production</span> ou de test en utilisant des outils automatisés
* Intégrer le code source dans <span style="text-decoration:underline;">un environnement de développement</span> centralisé
* Limiter les interruptions de du déploiement/livraison continue (blue/green)
* Collecter les KPI afin de mesurer l'efficacité et le succès des pratiques DevOps. (Deployment Cycle Time, Deployment Frequency, Deployment Success Rate)

_C'est l'étape la plus importante de votre projet car elle constitue le cœur de votre projet et apprentissage en ingénierie DevOps_



* _L'idée est d'automatiser le déploiement de l'application via une pipeline CI/CD._
* _Vous devrez créer deux environnements :_
* _un environnement dédié au développement_
* _un environnement dédié au production_
* _Cela peut être une VM dédiée, des conteneurs, ou tout autre serveur de calcul. Il faut simplement que l'on puisse distinguer ces deux environnements._
* _Effectuer des tests automatisés avant le déploiement du code en production pour s'assurer que le code fonctionne correctement._

5 : Supervision

**Définir des métriques et surveiller le système en production pour détecter les erreurs et les problèmes potentiels** 

En utilisant un système de supervision, qui comprend un serveur, des agents de collecte et une console de supervision, déployer les agents afin de collecter les indicateurs (métriques) définis.



* Configurer des tableaux de bord de surveillance pour suivre des métriques clés et configurer des alertes pour notifier les problèmes potentiels.
* Définir les valeurs seuils et créer des alarmes pertinentes selon les métriques mesurées
* Définir et créer des actions automatiques en réponse à ces alarmes
* Lorsque la console fait apparaître un défaut sur un indicateur, déterminer l’origine du problème
* Régulièrement, rapporter aux développeurs les statistiques de performance de leurs applications en production

_Etape bonus_



* _Définir des métriques, des "points de santé" pertinent pour l'application_
* _Création d'un dashboard pour donner du sens à la collecte de métrique._
* _Définir des seuils à partir duquel on considère qu'il y a un dysfonctionnement de l'architecture ou/et de l'application, cela doit déclencher une alarme._
* _Définir des actions automatiques en réponse à ces alarmes._

6 : Automatisation

**Automatiser le déploiement, de l'infrastructure des environnements et de l’application**

Automatiser le déploiement la configuration du serveur (IaC)



* Créer des templates déclaratifs (YAML) pour déployer l’infrastructure, les environnements et l’application
* Utiliser les variables d’environnement pour sécuriser les données sensibles et éviter la redondance de template.
* Ces templates seront réutilisable, répétables peut importe l’environnement déployé


## Choix initiaux
